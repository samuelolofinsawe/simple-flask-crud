{% extends "base.html" %}

{% block title %}My Tasks{% endblock %}

{% block content %}
    <h1>My Tasks</h1>
    
    <a class="add-task-section" href="{{url_for('adding_task')}}">
        <button type="button" class="btn btn-primary">Add Task</button>

    </a>
    
    <ul class="task-list">
        {% if tasks %}
            {% for task in tasks %}
                <li class="task-item">
                    <div class="task-content">
                        <div class="task-text">{{ task.content }}</div>
                        <div class="task-time">Created: {{ task.created_at.strftime('%b %d, %Y at %I:%M %p') }}</div>
                    </div>
                    <div class="task-actions">
                        <a href="{{url_for('edit_task',task_ident=task.id)}}" style="display: inline;">
                            <button type="submit" class="edit-btn">Edit</button>
                        </a>
                        <form method="POST" action="{{url_for('delete_task',task_ident=task.id)}}" style="display: inline;">
                            <button type="submit" class="delete-btn" onclick="return confirm('Are you sure you want to delete this task?')">Delete</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        {% else %}
            <li class="no-tasks">No tasks yet. Add one above!</li>
        {% endif %}
    </ul>
{% endblock %}